<view class="order-wrap">
  <!--tab-->
  <view class="top-tab">
    <view catchtap="chooseTab" class="{{ tabCurrent == index ? 'choose' : '' }}" data-index="{{ index }}" wx:for="{{ topTab }}">{{ item }}</view>
  </view>
  <!--我的订单-->
  <view class="wrap order-a">
    <block wx:for="{{ orderMine }}" wx:key="unique">
      <view class="{{ item.status == 2 ? 'close' : '' }}">
        <!--顶部-->
        <view class="order-top">
          <view class="order-number">订单编号:<text>{{ item.orderNumber }}</text></view>
          <view class="order-status {{ item.status == 2 ? 'order-close' : '' }}">{{ item.status == 0 ? tabCurrent != 2 ? '发布中' : '未确认' : item.status == 1 ? '已确认' : item.status == 2 ? '订单关闭' : item.status == 3 ? '已完成' : '' }}</view>
        </view>
        <!--中心-->
        <view class="order-center">
          <image class="order-img" src="{{ item.img }}"></image>
          <view class="o-c-center">
            <view class="o-c-c-title">{{ item.title }}</view>
            <view class="o-c-c-time">时间: <text>{{ item.time }}</text></view>
            <view class="o-c-c-address">地点: <text>{{ item.address }}</text></view>
          </view>
          <view class="o-c-money">￥{{ item.money }}</view>
        </view>
        <!--底部约会对象-->
        <view class="order-bottom-one" wx:if="{{ (item.status == 1 || item.status == 3 || item.status == 0 && tabCurrent == 0) || tabCurrent == 1 || tabCurrent == 2 }}">
          <!--todo 跳转到对象的个人主页-->
          <navigator wx:if="{{ (item.status == 1 || item.status == 3 || tabCurrent == 1) || (tabCurrent == 2 && item.status != 3) }}"  url="../userInfo/userInfo?userId={{ item.userId }}" open-type="navigate" class="user arrow {{ item.status == 2 && tabCurrent == 1 || item.status != 0 && tabCurrent == 2  ? 'noline': '' }}">
            <image class="userImg" src="{{ item.userImg }}"></image>
            <text class="username iconfont {{ item.gender == 1 ? 'icon-nanxing' : 'icon-nvxing' }}">{{ item.userName }}</text>
          </navigator>
          <view class="o-b-o-number" wx:if="{{ (item.status == 0 || item.status == 1 && tabCurrent != 2 || item.status == 3 && tabCurrent != 2) || (item.status == 0 && tabCurrent == 2) }}">
            <view class="codeNumber">
              <view class="{{ item.status == 3 ? 'codeUse' : '' }}" wx:if="{{ item.status == 1 && tabCurrent != 2 || item.status == 3 }}">兑换码: <text>{{ item.codeNumber }}</text></view>
            </view>
            <view data-id="{{ item.orderNumber }}" data-status="{{ item.status }}" data-index="index" catchtap="cancelCheck" wx:if="{{ item.status == 1 && tabCurrent != 2 || item.status == 0 }}" class="cancel">{{ item.status == 1 && tabCurrent != 2 ? '取消赴约' : item.status == 0 && tabCurrent == 0 ? '查看应邀者' : item.status == 0 && tabCurrent == 1 ? '立即支付' : item.status == 0 && tabCurrent == 2 ? '提箱Ta确认' : '' }}</view>
          </view>
        </view>
      </view>
    </block>
  </view>
</view>
