{"version":3,"sources":["pages/otherConfirm/otherConfirm.js"],"names":["app","getApp","useUrl","require","Page","data","payArr","houseArr","genderCur","genderChoose","flag","value","ico","name","marryCur","marryChoose","getUserMoney","that","gum","url","payIndex","session_key","wx","getStorageSync","success","res","code","setData","coin","showToast","title","message","wxrequest","moneyPay","e","type","payObj","timeStamp","nonceStr","package","paySign","console","log","errMsg","payflag","sendMask","orderMask","datingSuccess","mask","setTimeout","reLaunch","fail","deleteOrder","order_id","orderCancel","wxpay","getOrderInfo","id","getMyPhoto","ocbj","comfireByTitaFaqi","order_ta_id","photos","length","split","forEach","push","photo_url","v","is_ta","job1","job","v1","industryOne","indexOf","v2","industryTwo","vv","orderInfo","people","is_zhidai","pay","pay_type","payType","price","money","sex","ganqing","ageIndex","ageArr","age","houseIndex","cart_house","mobile","checkUser","closeMoneyMask","inputValue","currentTarget","dataset","detail","user_height","compny","likes_sports","likes_movies","likes_books","bindChange","tempValue","two","bindPickerChange","industryIndex","chooseChange","index","cp","p","noMask","chooseIndustryhy","industryShow","chooseIndustry","datingpeopleShow","kindshow","image","payShow","mobileInput","phone","showMap","openLocation","latitude","shop_lat","longitude","shop_lng","address","upPhoto","obj","count","showLoading","tempFilePaths","i","upImg","uploadPhotos","filePath","formData","file","hideLoading","jsonObj","JSON","parse","res_file","duration","wxUpload","err","chooseImage","delphoto","splice","preview","current","urls","previewImage","getFixInfoModal","showModal","content","showCancel","cancelText","cancelColor","confirmText","confirmColor","confirm","getFixInfo","goShare","getMyInfo","goTaocan","navigateTo","package_id","order_date","getobj","getUserInfoBySelf","redirectTo","user_id","gfiObj","mine","job2","v11","v22","vvv","getPhone","marrCur","concat","photosMy","fix","gmp","myPhotos","cancelOjb","titaFaqiByreject","orderConfirm","parseInt","setStorageSync","oi","is_perfect_data","userObj","updateUserInfo","stringify","confirmObj","titaFaqiByComfire","goPay","orderPayobj","payByOrder","isPerfectData","isShiyue","toString","cancelshow","isHasBaomoney","delMask","payByBond","yxObj","moneyshow","onLoad","params","orderTaId","days","wxlogin","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"otherConfirm.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\nconst useUrl = require('../../utils/service')\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    payArr: ['已付清', '我付清', '各付各', 'Ta付清'],\n    houseArr: ['请选择Ta的车房状况', '有房有车', '有房无车', '有车无房', '车房待购'],\n    // 性别\n    genderCur: 0,\n    genderChoose: [\n      {\n        flag: 1,\n        value: '男',\n        ico: 'icon-nanxing'\n      },\n      {\n        name: 2,\n        value: '女',\n        ico: 'icon-nvxing'\n      }\n    ],\n    // 婚姻\n    marryCur: 0,\n    marryChoose: [\n      {\n        flag: 1,\n        value: '单身',\n        ico: 'icon-nanxing'\n      },\n      {\n        name: 2,\n        value: '非单身',\n        ico: 'icon-nvxing'\n      }\n    ]\n  },\n  // 获取用户金额情况\n  getUserMoney () {\n    let that = this\n    let gum = {\n      url: useUrl.payIndex,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        if (res.data.code === 200) {\n          that.setData({\n            coin: res.data.data.coin || 0\n          })\n        } else {\n          wx.showToast({\n            title: res.data.message\n          })\n        }\n      }\n    }\n    app.wxrequest(gum)\n  },\n  // 信息提交后判断是否需要支付\n  moneyPay (e, type) {\n    // console.log(e)\n    let that = this\n    // 支付参数\n    let payObj = {\n      timeStamp: e.timeStamp,\n      nonceStr: e.nonceStr,\n      package: e.package,\n      paySign: e.paySign,\n      success (res) {\n        // 支付成功响应\n        console.log('支付情况', res)\n        if (res.errMsg === 'requestPayment:ok') {\n          if (type === 'forOther') {\n            that.setData({\n              payflag: false,\n              sendMask: true,\n              orderMask: false\n            })\n          } else {\n            that.setData({\n              datingSuccess: true,\n              orderMask: false\n            })\n          }\n        } else {\n          wx.showToast({\n            title: '尚未支付完成,请到订单中继续支付',\n            mask: true\n          })\n          setTimeout(function () {\n            wx.reLaunch({\n              url: '../index2/index2'\n            })\n          }, 1000)\n        }\n      },\n      fail (res) {\n        console.log('支付失败', res)\n        wx.showToast({\n          title: '未完成支付,订单关闭',\n          mask: true\n        })\n        app.deleteOrder(that.data.order_id)\n        that.orderCancel()\n        setTimeout(function () {\n          wx.reLaunch({\n            url: '../index2/index2'\n          })\n        }, 1000)\n      }\n    }\n    app.wxpay(payObj)\n  },\n  // 获取转发订单信息\n  getOrderInfo (id) {\n    this.getMyPhoto()\n    let that = this\n    let ocbj = {\n      url: useUrl.comfireByTitaFaqi,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        order_ta_id: id\n      },\n      success (res) {\n        // console.log(res)\n        if (res.data.message === '已经确认过了') {\n          wx.showToast({\n            title: '本订单已经确认过了，如不是您确认的请联系您的好友',\n            mask: true\n          })\n          return setTimeout(function () {\n            wx.reLaunch({\n              url: '../index2/index2'\n            })\n          }, 1500)\n        } else if (res.data.message === '您替TA发起,不能应邀') {\n          wx.showToast({\n            title: '不能确认自己发起的订单',\n            mask: true\n          })\n          return setTimeout(function () {\n            wx.reLaunch({\n              url: '../userOrder/userOrder?type=ta'\n            })\n          }, 1500)\n        } else if (res.data.code === 400) {\n          wx.showToast({\n            title: res.data.message,\n            mask: true\n          })\n          return setTimeout(function () {\n            wx.reLaunch({\n              url: '../index2/index2'\n            })\n          }, 1500)\n        }\n        let photos = []\n        if (res.data.data.photos.length !== 0) {\n          // photoTemp = res.data.data.photos.split(',')\n          res.data.data.photos.split(',').forEach(v => {\n            photos.push({\n              photo_url: v,\n              is_ta: 1\n            })\n          })\n        }\n        let job1 = res.data.data.job.split('-')\n        let v1 = that.data.industryOne.indexOf(job1[0])\n        let v2 = 0\n        if (v1 < 24) {\n          v2 = that.data.industryTwo[v1].indexOf(job1[1])\n        }\n        let vv = [v1, v2]\n        // if (res.data.data.mobile.length * 1 !== 11) {\n        //   if (wx.getStorageSync('phoneNumber')) {\n        //     res.data.data.mobile = wx.getStorageSync('phoneNumber')\n        //   }\n        // }\n        that.setData({\n          orderInfo: res.data.data,\n          people: res.data.data.is_zhidai === '1' ? '寻约会对象' : '自带约会对象',\n          pay: that.data.payArr[res.data.data.pay_type],\n          payType: res.data.data.pay_type,\n          price: res.data.data.money,\n          genderCur: res.data.data.sex * 1 - 1,\n          photos: photos,\n          marryCur: res.data.data.ganqing * 1,\n          ageIndex: that.data.ageArr.indexOf(res.data.data.age),\n          value: vv,\n          houseIndex: res.data.data.cart_house,\n          mobile: res.data.data.mobile || ''\n          // phone: wx.getStorageSync('phoneNumber') || ''\n        })\n        // app.getPhone(that)\n        that.checkUser()\n      }\n    }\n    app.wxrequest(ocbj)\n  },\n  closeMoneyMask () {\n    this.setData({\n      orderMask: false\n    })\n    app.deleteOrder(this.data.order_id)\n    this.orderCancel()\n    // wx.showToast({\n    //   title: '订单已确认，请在账单页面继续完成支付',\n    //   // title: '订单未完成支付,删除订单',\n    //   mask: true\n    // })\n    // setTimeout(() => {\n    //   wx.reLaunch({\n    //     url: '../index2/index2'\n    //   })\n    // }, 1000)\n  },\n  // 输入框内容\n  inputValue (e) {\n    let type = e.currentTarget.dataset.type\n    let value = e.detail.value\n    let orderInfo = this.data.orderInfo\n    if (type === 'name') {\n      orderInfo.name = value\n    } else if (type === 'height') {\n      orderInfo.user_height = value\n    } else if (type === 'company') {\n      orderInfo.compny = value\n    } else if (type === 'sport') {\n      orderInfo.likes_sports = value\n    } else if (type === 'movie') {\n      orderInfo.likes_movies = value\n    } else if (type === 'book') {\n      orderInfo.likes_books = value\n    }\n    this.setData({\n      orderInfo: orderInfo\n    })\n  },\n  // 行业选择\n  bindChange (e) {\n    var tempValue = []\n    if (e.detail.value[0] === this.data.value[0]) {\n      tempValue = e.detail.value\n    } else {\n      tempValue = [e.detail.value[0], 0]\n    }\n    this.setData({\n      two: e.detail.value[0],\n      value: tempValue\n    })\n  },\n  // picker选择器\n  bindPickerChange: function (e) {\n    let type = e.currentTarget.dataset.type\n    let value = e.detail.value\n    if (type === 'age') {\n      this.setData({\n        ageIndex: value\n      })\n    } else if (type === 'industry') {\n      this.setData({\n        industryIndex: value\n      })\n    } else if (type === 'house') {\n      this.setData({\n        houseIndex: value\n      })\n    }\n  },\n  // 单项选择\n  chooseChange (e) {\n    let type = e.currentTarget.dataset.type\n    let index = e.currentTarget.dataset.index\n    let that = this\n    if (type === 'gender') {\n      that.setData({\n        genderCur: index\n      })\n    } else if (type === 'marry') {\n      that.setData({\n        marryCur: index\n      })\n    }\n  },\n  // 约会类型，付款类型选择\n  cp (e) {\n    if (this.data.orderInfo.pay_type === '0') return\n    let p = e.currentTarget.dataset.type\n    if (p === 'noself') {\n      this.setData({\n        people: '寻约会对象'\n      })\n    } else if (p === 'self') {\n      let pay = '我付清'\n      let payType = 1\n      if (this.data.type === 'forOther') {\n        pay = '替Ta付清'\n        payType = 0\n      }\n      this.setData({\n        people: '自带约会对象',\n        pay: pay,\n        payType: payType\n      })\n    } else if (p === 'my') {\n      this.setData({\n        pay: '我付清',\n        payType: 1\n      })\n    } else if (p === 'both') {\n      this.setData({\n        pay: '各付各',\n        payType: 2\n      })\n    } else if (p === 'other') {\n      this.setData({\n        pay: 'Ta付清',\n        payType: 3\n      })\n    } else if (p === 'forTa') {\n      this.setData({\n        pay: '替Ta付清',\n        payType: 0\n      })\n    } else if (p === 'confirm') {\n      this.setData({\n        pay: '确认人付清',\n        payType: 1\n      })\n    } else if (p === 'otherother') {\n      this.setData({\n        pay: '应邀者付清',\n        payType: 3\n      })\n    }\n    this.noMask()\n  },\n  // 行业遮罩\n  chooseIndustryhy () {\n    this.setData({\n      industryShow: true\n    })\n  },\n  // 遮罩\n  chooseIndustry (e) {\n    if (this.data.orderInfo.pay_type === '0') return\n    let type = e.currentTarget.dataset.type\n    // console.log(type)\n    if (type === 'time') {\n      this.setData({\n        industryShow: true\n      })\n    } else if (type === 'choosepeople') {\n      this.setData({\n        datingpeopleShow: true\n      })\n    } else if (type === 'kind') {\n      this.setData({\n        kindshow: true\n      })\n    } else if (type === 'pay') {\n      if (this.data.people === '自带约会对象') {\n        return wx.showToast({\n          title: '自带约会对象，不可选择付款类型',\n          image: '../../images/jiong.png',\n          mask: true\n        })\n      }\n      this.setData({\n        payShow: true\n      })\n    }\n  },\n  // 去除遮罩\n  noMask () {\n    this.setData({\n      industryShow: false,\n      datingpeopleShow: false,\n      kindshow: false,\n      payShow: false\n    })\n  },\n  // 手机号码输入\n  mobileInput (e) {\n    let that = this\n    this.data.orderInfo.mobile = e.detail.value\n    this.setData({\n      orderInfo: that.data.orderInfo,\n      phone: e.detail.value,\n      mobile: e.detail.value\n    })\n  },\n  // 去到地图地址上\n  showMap () {\n    let that = this\n    wx.openLocation({\n      latitude: that.data.orderInfo.shop_lat * 1,\n      longitude: that.data.orderInfo.shop_lng * 1,\n      name: '预定餐厅所在位置',\n      address: that.data.orderInfo.address\n    })\n  },\n  // 用户上传图片\n  upPhoto () {\n    let that = this\n    let obj = {\n      count: 1,\n      success (res) {\n        wx.showLoading({\n          title: '图片上传中',\n          mask: true\n        })\n        let photos = that.data.photos\n        for (let i of res.tempFilePaths) {\n          // 添加到相册数组中\n          // 上传图片\n          let upImg = {\n            url: useUrl.uploadPhotos,\n            filePath: i,\n            formData: {\n              session_key: wx.getStorageSync('session_key'),\n              file: i\n            },\n            success (res) {\n              // console.log(res)\n              // console.log('上传成功', res.data)\n              wx.hideLoading()\n              let jsonObj = JSON.parse(res.data).data.res_file\n              photos.push({\n                photo_url: jsonObj,\n                is_ta: 0\n              })\n              that.setData({\n                photos: photos\n              })\n              // console.log('obj', JSON.parse(res.data))\n            },\n            fail (res) {\n              console.log('上传错误', res)\n              wx.showToast({\n                title: '图片上传失败，请重新尝试',\n                mask: true,\n                duration: 1000\n              })\n            }\n          }\n          app.wxUpload(upImg)\n        }\n      },\n      fail (err) {\n        console.log(err)\n      }\n    }\n    wx.chooseImage(obj)\n  },\n  // 删除图片\n  delphoto (e) {\n    let that = this\n    let index = e.currentTarget.dataset.index\n    let photos = that.data.photos\n    photos.splice(index, 1)\n    that.setData({\n      photos: photos\n    })\n  },\n  // 用户预览图片\n  preview (e) {\n    let that = this\n    let index = e.currentTarget.dataset.index\n    let obj = {\n      current: that.data.photos[index],\n      urls: that.data.photos\n    }\n    wx.previewImage(obj)\n  },\n  // 智能修正弹窗\n  getFixInfoModal () {\n    let that = this\n    wx.showModal({\n      title: '智能修正',\n      content: '更改为您所填写的个人资料',\n      showCancel: true,\n      cancelText: '不用了',\n      cancelColor: '#2b2f41',\n      confirmText: '更改',\n      confirmColor: '#ffc4a6',\n      success (res) {\n        if (res.confirm) {\n          that.getFixInfo()\n        }\n      }\n    })\n  },\n  // 订单生效后跳转\n  goShare () {\n    this.getMyInfo()\n  },\n  // 跳转套餐详情\n  goTaocan () {\n    wx.navigateTo({\n      url: `../setMeal/setMeal?id=${this.data.orderInfo.package_id}&type=out&time=${this.data.orderInfo.order_date}`\n    })\n  },\n  // 获取自己的资料\n  getMyInfo () {\n    // let that = this\n    let getobj = {\n      url: useUrl.getUserInfoBySelf,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        wx.redirectTo({\n          url: `../userInfo/userInfo?userId=${res.data.data.user_id}&type=self`\n        })\n      }\n    }\n    app.wxrequest(getobj)\n  },\n  // 智能修正\n  getFixInfo () {\n    let that = this\n    let gfiObj = {\n      url: useUrl.getUserInfoBySelf,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        let mine = res.data.data\n        let orderInfo = that.data.orderInfo\n        let job2 = mine.job.split('-')\n        let v11 = that.data.industryOne.indexOf(job2[0])\n        let v22 = 0\n        if (v11 < 24) {\n          v22 = that.data.industryTwo[v11].indexOf(job2[1])\n        }\n        let vvv = [v11, v22]\n        // let vvv = [0, 0]\n        orderInfo.name = mine.name\n        orderInfo.user_height = mine.user_height\n        orderInfo.compny = mine.compny\n        orderInfo.likes_sports = mine.likes_sports\n        orderInfo.likes_movies = mine.likes_movies\n        orderInfo.likes_books = mine.likes_books\n        // console.log(mine.photos)\n        // console.log(mine.cart_house)\n        // console.log(mine.photos)\n        app.getPhone(that)\n        that.setData({\n          orderInfo: orderInfo,\n          genderCur: mine.sex - 1,\n          marrCur: mine.ganqing,\n          ageIndex: that.data.ageArr.indexOf(mine.age),\n          value: vvv,\n          houseIndex: mine.cart_house * 1,\n          photos: that.data.photos.concat(that.data.photosMy),\n          fix: true\n        })\n        // console.log(res)\n      }\n    }\n    app.wxrequest(gfiObj)\n  },\n  // 获取我的相册图片数量\n  getMyPhoto () {\n    let that = this\n    let gmp = {\n      url: useUrl.myPhotos,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        that.setData({\n          photosMy: res.data.data\n        })\n        // console.log(res)\n      }\n    }\n    app.wxrequest(gmp)\n  },\n  // 取消确认\n  orderCancel () {\n    let that = this\n    let cancelOjb = {\n      url: useUrl.titaFaqiByreject,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        order_ta_id: that.data.orderInfo.order_ta_id\n      },\n      success (res) {\n        // that.setData({\n        //   payflag: true\n        // })\n        wx.showToast({\n          title: '取消成功',\n          mask: true\n        })\n        setTimeout(function () {\n          wx.reLaunch({\n            url: '../index2/index2'\n          })\n        }, 1000)\n      }\n\n    }\n    app.wxrequest(cancelOjb)\n  },\n  // 订单确认\n  orderConfirm () {\n    if (!this.data.fix) {\n      if (this.data.photos.length + this.data.photosMy.length > 9) {\n        return wx.showToast({\n          title: '亲,相册最大为9张，请删除多余的图片',\n          mask: true\n        })\n      }\n    } else {\n      if (this.data.photos.length > 9) {\n        return wx.showToast({\n          title: '亲,相册最大为9张，请删除多余的图片',\n          mask: true\n        })\n      }\n    }\n    // console.log(this.data.orderInfo.mobile.length)\n    if (!this.data.mobile || parseInt(this.data.mobile.length) !== 11) {\n      return wx.showToast({\n        title: '亲,请输入正确的手机号码',\n        mask: true\n      })\n    }\n    if (this.data.ageIndex * 1 === 0) {\n      return wx.showToast({\n        title: '亲,请选择年龄区间',\n        mask: true\n      })\n    }\n    if (this.data.orderInfo.user_height * 1 === 0) {\n      return wx.showToast({\n        title: '亲,请输入身高',\n        mask: true\n      })\n    }\n    if (this.data.value[0] === 0) {\n      return wx.showToast({\n        title: '亲,请选择行业',\n        mask: true\n      })\n    }\n    if (!this.data.orderInfo.compny) {\n      return wx.showToast({\n        title: '亲,请输入工作的公司',\n        mask: true\n      })\n    }\n    if (this.data.houseIndex * 1 === 0) {\n      return wx.showToast({\n        title: '亲,请选择车房状况',\n        mask: true\n      })\n    }\n    wx.setStorageSync('phoneNumber', this.data.orderInfo.mobile)\n    let that = this\n    let oi = this.data.orderInfo\n    if (this.data.is_perfect_data === '0') {\n      wx.showModal({\n        title: '非已有用户无保存资料',\n        content: '是否保存该资料为个人资料？',\n        showCancel: true,\n        cancelText: '不保存',\n        cancelColor: '#2b2f41',\n        confirmText: '保存',\n        confirmColor: '#ffc4a6',\n        success (res) {\n          if (res.confirm) {\n            let userObj = {\n              url: useUrl.updateUserInfo,\n              data: {\n                session_key: wx.getStorageSync('session_key'),\n                name: oi.name,\n                sex: that.data.genderCur,\n                ganqing: that.data.marryCur,\n                age: that.data.ageArr[that.data.ageIndex],\n                user_height: oi.user_height,\n                job: that.data.industryOne[that.data.value[0]] + (that.data.value[1] < 24 ? '-' + that.data.industryTwo[that.data.value[0]][that.data.value[1]] : ''),\n                compny: oi.compny,\n                cart_house: that.data.houseIndex,\n                likes_books: oi.likes_books,\n                likes_movies: oi.likes_movies,\n                likes_sports: oi.likes_sports,\n                photos: JSON.stringify(that.data.photos)\n              },\n              success () {\n                // if (res.data.message === '保存成功') {\n                //   wx.showToast({\n                //     title: '保存成功'\n                //   })\n                // }\n              }\n            }\n            app.wxrequest(userObj)\n          }\n        }\n      })\n    }\n    // 订单确认\n    // 为智能修正\n    if (!this.data.fix) {\n      that.data.photos = that.data.photos.concat(that.data.photosMy)\n    }\n    let confirmObj = {\n      url: useUrl.titaFaqiByComfire,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        order_ta_id: oi.order_ta_id,\n        pay_type: that.data.payType,\n        is_zhidai: that.data.people === '寻约会对象' ? 1 : 2,\n        name: oi.name,\n        mobile: that.data.mobile,\n        sex: that.data.genderCur,\n        ganqing: that.data.marryCur,\n        age: that.data.ageArr[that.data.ageIndex],\n        user_height: oi.user_height,\n        job: that.data.industryOne[that.data.value[0]] + '-' + that.data.industryTwo[that.data.value[0]][that.data.value[1]],\n        compny: oi.compny,\n        cart_house: that.data.houseIndex,\n        likes_books: oi.likes_books,\n        likes_movies: oi.likes_movies,\n        likes_sports: oi.likes_sports,\n        photos: JSON.stringify(that.data.photos)\n      },\n      success (res) {\n        console.log('替他发起页面订单支付', res)\n        if (res.data.data.order_id) {\n          that.setData({\n            order_id: res.data.data.order_id\n          })\n          if ((that.data.payType * 1) === 1 || (that.data.payType * 1) === 2) {\n            // wx.showLoading({\n            //   title: '订单已确认,发起支付中...'\n            // })\n            that.getUserMoney()\n            setTimeout(() => {\n              wx.hideLoading()\n              that.setData({\n                orderMask: true,\n                payflag: true\n              })\n            }, 300)\n            // todo\n          } else {\n            that.setData({\n              orderMask: false,\n              datingSuccess: true\n            })\n          }\n        } else {\n          // console.log(res)\n          wx.showToast({\n            title: res.data.message,\n            mask: true\n          })\n          setTimeout(function () {\n            wx.redirectTo({\n              url: '../index2/index2'\n            })\n          }, 1000)\n        }\n      }\n    }\n    app.wxrequest(confirmObj)\n  },\n  // 订单确认支付\n  goPay () {\n    let that = this\n    let orderPayobj = {\n      url: useUrl.payByOrder,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        order_id: that.data.order_id\n      },\n      success (res) {\n        if (res.data.code === 400) {\n          wx.showToast({\n            title: res.data.message,\n            image: '../../images/jiong.png'\n          })\n          return setTimeout(() => {\n            wx.reLaunch({\n              url: '../index2/index2'\n            })\n          }, 1500)\n        }\n        console.log('order success', res)\n        // 需要支付的发起付款\n        if (res.data.data.length !== 0) {\n          // asdfasdfasdf\n          // todo 微信支付流程\n          that.setData({\n            payflag: false\n          })\n          that.moneyPay(res.data.data, 'self')\n          return\n        }\n        that.setData({\n          payflag: false,\n          orderMask: false,\n          datingSuccess: true\n        })\n      }\n    }\n    app.wxrequest(orderPayobj)\n  },\n  // 用户资料检查\n  checkUser () {\n    let that = this\n    let obj = {\n      url: useUrl.isPerfectData,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        // console.log(res.data.data.is_perfect_data)\n        // console.log(res.data.data.isShiyue)\n        // console.log(res.data.data.isHasBaomoney)\n        if (res.data.data.isShiyue.toString() === '1') {\n          that.setData({\n            cancelshow: true\n          })\n        } else if (res.data.data.isHasBaomoney.toString() === '0') {\n          // that.setData({\n          //   moneyshow: true\n          // })\n        }\n        that.setData({\n          is_perfect_data: res.data.data.is_perfect_data\n        })\n        wx.hideLoading()\n      }\n    }\n    app.wxrequest(obj)\n  },\n  // 去除遮罩层\n  delMask (e) {\n    let that = this\n    let type = e.currentTarget.dataset.type\n    // console.log(type)\n    if (type === 'yxpay') {\n      // todo 支付意向金\n      let obj = {\n        url: useUrl.payByBond,\n        data: {\n          session_key: wx.getStorageSync('session_key')\n        },\n        success (res) {\n          console.log('保证金支付', res)\n          let yxObj = {\n            timeStamp: res.data.data.timeStamp,\n            nonceStr: res.data.data.nonceStr,\n            package: res.data.data.package,\n            paySign: res.data.data.paySign,\n            success (res) {\n              // 支付成功\n              if (res.errMsg === 'requestPayment:ok') {\n                that.setData({\n                  moneyshow: false\n                })\n              }\n            },\n            fail (res) {\n              console.log('支付失败', res)\n              // 支付失败\n            }\n          }\n          app.wxpay(yxObj)\n        }\n      }\n      app.wxrequest(obj)\n    } else {\n      wx.reLaunch({\n        url: '../index2/index2'\n      })\n    }\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (params) {\n    // params['orderTaId'] = 929\n    // console.log(params)\n    if (params.orderTaId === 'undefined' || !params.orderTaId) {\n      wx.showLoading({\n        title: '非法套餐数据,即将返回首页',\n        mask: true\n      })\n      setTimeout(() => {\n        wx.reLaunch({\n          url: '../index2/index2'\n        })\n      }, 1500)\n      return\n    }\n    let that = this\n    app.data.ageArr.splice(0, 1, '请选择Ta的年龄区间')\n    app.data.industryOne.splice(0, 1, '请选择Ta所在的行业')\n    app.data.industryTwo.splice(0, 1, ['请选择Ta所在的行业'])\n    wx.showLoading({\n      title: '亲，接受数据中',\n      mask: true\n    })\n    this.setData({\n      title: params.title,\n      days: params.days,\n      address: params.address,\n      ageArr: app.data.ageArr,\n      industryOne: app.data.industryOne,\n      industryTwo: app.data.industryTwo\n    })\n\n    this.setData({\n      id: params.orderTaId\n    })\n    app.wxlogin(that.getOrderInfo, params.orderTaId)\n  },\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    if (this.data.payflag) {\n      app.deleteOrder(this.data.order_id)\n      this.orderCancel()\n    }\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}