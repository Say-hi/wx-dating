{"version":3,"sources":["pages/checkInvited/checkInvited.js"],"names":["app","getApp","useUrl","require","Page","data","title","chooseTab","userArr","chooseUser","e","chooseIndex","currentTarget","dataset","index","setData","chooseShow","btnClick","that","type","sbj","url","acceptApplyInvitation","session_key","wx","getStorageSync","id","success","res","code","showToast","image","duration","mask","wxrequest","setTimeout","navigateBack","delta","getInviteUerList","obj","lookApplyInvitation","order_id","goUserInfo","navigateTo","onLoad","parmas","ta","orderId","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"checkInvited.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\nconst useUrl = require('../../utils/service')\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'checkInvited',\n    chooseTab: true,\n    userArr: []\n  },\n  // 选择应邀者\n  chooseUser (e) {\n    let chooseIndex = e.currentTarget.dataset.index\n    this.setData({\n      chooseIndex: chooseIndex,\n      chooseShow: true\n    })\n  },\n  // 按钮点击判断\n  btnClick (e) {\n    let that = this\n    let type = e.currentTarget.dataset.type\n    if (type === 'cancel') {\n      this.setData({\n        chooseShow: false\n      })\n    } else if (type === 'confirm') {\n      let sbj = {\n        url: useUrl.acceptApplyInvitation,\n        data: {\n          session_key: wx.getStorageSync('session_key'),\n          id: e.currentTarget.dataset.id\n        },\n        success (res) {\n          // 选择成功\n          if (res.data.code === 200) {\n            that.setData({\n              chooseTab: false\n            })\n          } else if (res.data.code === 400) {\n            // 失败操作\n            return wx.showToast({\n              title: '您已确认应邀者了~~',\n              image: '../../images/jiong.png',\n              duration: 2000,\n              mask: true\n            })\n          }\n        }\n      }\n      app.wxrequest(sbj)\n    } else if (type === 'confirm-two') {\n      this.setData({\n        chooseTab: true,\n        chooseShow: false\n      })\n      setTimeout(function () {\n        wx.navigateBack({\n          delta: 2\n        })\n      })\n    }\n  },\n  getInviteUerList (id) {\n    let that = this\n    let obj = {\n      url: useUrl.lookApplyInvitation,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        order_id: id\n      },\n      success (res) {\n        that.setData({\n          userArr: res.data.data\n        })\n      }\n    }\n    app.wxrequest(obj)\n  },\n  // 去到用户信息页面\n  goUserInfo (e) {\n    wx.navigateTo({\n      url: `../userInfo/userInfo?userId=${e.currentTarget.dataset.id}`\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (parmas) {\n    this.setData({\n      ta: parmas.ta\n    })\n    this.getInviteUerList(parmas.orderId)\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}