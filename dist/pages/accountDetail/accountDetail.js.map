{"version":3,"sources":["pages/accountDetail/accountDetail.js"],"names":["app","getApp","useUrl","require","Page","data","title","page","info","getLog","that","logObj","url","payLogsDetail","session_key","wx","getStorageSync","success","res","length","showToast","setData","concat","wxrequest","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","onReachBottom"],"mappings":";;AAAA;AACA,IAAMA,MAAMC,QAAZ;AACA,IAAMC,SAASC,QAAQ,qBAAR,CAAf;AACA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,WAAO,eADH;AAEJC,UAAM,CAFF;AAGJC,UAAM;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZI;AAHF,GAJH;AAsBH;AACAC,QAvBG,kBAuBKF,IAvBL,EAuBW;AACZ,QAAIG,OAAO,IAAX;AACA,QAAIC,SAAS;AACXC,WAAKV,OAAOW,aADD;AAEXR,YAAM;AACJS,qBAAaC,GAAGC,cAAH,CAAkB,aAAlB,CADT;AAEJT,cAAMA;AAFF,OAFK;AAMXU,aANW,mBAMFC,GANE,EAMG;AACZ,YAAIA,IAAIb,IAAJ,CAASA,IAAT,CAAcc,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,iBAAOJ,GAAGK,SAAH,CAAa;AAClBd,mBAAO;AADW,WAAb,CAAP;AAGD;AACDI,aAAKW,OAAL,CAAa;AACXb,gBAAME,KAAKL,IAAL,CAAUG,IAAV,CAAec,MAAf,CAAsBJ,IAAIb,IAAJ,CAASA,IAA/B;AADK,SAAb;AAGD;AAfU,KAAb;AAiBAL,QAAIuB,SAAJ,CAAcZ,MAAd;AACD,GA3CE;;AA4CH;;;AAGAa,QA/CG,oBA+CO;AACR,SAAKf,MAAL,CAAY,CAAZ;AACA;AACD,GAlDE;;;AAoDH;;;AAGAgB,SAvDG,qBAuDQ;AACT;AACD,GAzDE;;;AA2DH;;;AAGAC,QA9DG,oBA8DO;AACR;AACD,GAhEE;;;AAkEH;;;AAGAC,QArEG,oBAqEO;AACR;AACD,GAvEE;;;AAyEH;;;AAGAC,UA5EG,sBA4ES;AACV;AACD,GA9EE;;;AAgFH;;;AAGAC,mBAnFG,+BAmFkB;AACnB;AACD,GArFE;;AAsFH;AACAC,eAvFG,2BAuFc;AACf,SAAKrB,MAAL,CAAY,EAAE,KAAKJ,IAAL,CAAUE,IAAxB;AACD;AAzFE,CAAL","file":"accountDetail.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\nconst useUrl = require('../../utils/service')\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'accountDetail',\n    page: 1,\n    info: [\n      // {\n      //   kind: '约会计划',\n      //   time: '2017.05.10 14:20',\n      //   money: 168,\n      //   pay: '微信支付'\n      // },\n      // {\n      //   kind: '账户充值',\n      //   time: '2017.05.10 14:20',\n      //   money: -168,\n      //   pay: '礼品卷充值'\n      // }\n    ]\n  },\n  // 获取用户流水\n  getLog (page) {\n    let that = this\n    let logObj = {\n      url: useUrl.payLogsDetail,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        page: page\n      },\n      success (res) {\n        if (res.data.data.length === 0) {\n          return wx.showToast({\n            title: '没有更多的消费记录了'\n          })\n        }\n        that.setData({\n          info: that.data.info.concat(res.data.data)\n        })\n      }\n    }\n    app.wxrequest(logObj)\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    this.getLog(1)\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  },\n  // 触底操作\n  onReachBottom () {\n    this.getLog(++this.data.page)\n  }\n})\n"]}