{"version":3,"sources":["pages/order/order.js"],"names":["app","getApp","useUrl","require","Page","data","time","people","pay","payType","mobile","maskTitle","timeArr","timeIndex","coin","datingSuccess","one","two","closeMoneyMask","setData","orderMask","deleteOrder","order_id","order_ta_id","getUserMoney","that","gum","url","payIndex","session_key","wx","getStorageSync","success","res","code","showToast","title","message","wxrequest","sendToConfirmPeople","indexOf","image","mask","foi","console","log","smbj","postTitaFaqi","archives_id","name","sex","ganqing","age","user_height","job","compny","cart_house","likes_sports","likes_movies","likes_books","comment","photos","id","date","day","is_zhidai","pay_type","complete","showLoading","setTimeout","hideLoading","sendMask","payforother","tiTAPay","payByOrderTa","length","moneyPay","e","type","payObj","timeStamp","nonceStr","package","paySign","errMsg","fail","wxpay","getMyDay","week","dates","Date","getDay","days","replace","cp","p","currentTarget","dataset","noMask","chooseIndustry","industryShow","datingpeopleShow","kindshow","payShow","getMyInfo","getobj","getUserInfoBySelf","redirectTo","user_id","goShare","delMask","obj","payByBond","yxObj","moneyshow","reLaunch","cancelshow","goPayFirst","setStorageSync","datashow","datashows","sendOrderData","goPay","orderPayobj","payByOrder","postFaqiYaoyue","mobileInput","detail","value","checkUser","isPerfectData","is_perfect_data","toString","isShiyue","getOrderTime","sb","packageDateTimeLists","y","m_n","d","concat","bindPickerChange","onLoad","params","orderInfo","phonenoshow","price","price2","address","onReady","onShow","getPhone","onHide","onUnload","onPullDownRefresh","onShareAppMessage","imageUrl","imgUrl","path","navigateBack","delta"],"mappings":"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","file":"order.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\nconst useUrl = require('../../utils/service')\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    // title: 'Mr.Rocky 双人火焰牛排餐',\n    // days: '2017.05.20(周日)',\n    time: '00:00',\n    // address: '珠江新城华夏路6号',\n    people: '寻约会对象',\n    pay: '各付各',\n    payType: 2,\n    mobile: 0,\n    maskTitle: '信息已保存,转发给Ta确认',\n    timeArr: [],\n    timeIndex: 0,\n    coin: 0,\n    // price: '168',\n    // 意向金弹窗\n    // moneyshow: false,\n    // 禁止发起弹窗\n    // cancelshow: false,\n    // 发起成功弹窗\n    datingSuccess: false,\n    // 个人资料完善弹窗\n    // datashow: false,\n    one: 0,\n    two: 0\n    // value:[18, 0]\n  },\n  // 关闭支付界面\n  closeMoneyMask () {\n    this.setData({\n      orderMask: false\n    })\n    app.deleteOrder(this.data.order_id || this.data.order_ta_id)\n  },\n  // 获取用户金额情况\n  getUserMoney () {\n    let that = this\n    let gum = {\n      url: useUrl.payIndex,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        if (res.data.code === 200) {\n          that.setData({\n            coin: res.data.data.coin || 0\n          })\n        } else {\n          wx.showToast({\n            title: res.data.message\n          })\n        }\n      }\n    }\n    app.wxrequest(gum)\n  },\n  // 发给本人确认\n  sendToConfirmPeople () {\n    let that = this\n    if (that.data.timeArr[that.data.timeIndex].indexOf(':') * 1 === -1) {\n      return wx.showToast({\n        image: '../../images/jiong.png',\n        mask: true,\n        title: '请选择约会时间'\n      })\n    }\n    // 替ta发起信息提交\n    let foi = wx.getStorageSync('forOtherInfo')\n    console.log('foi', foi)\n    let smbj = {\n      url: useUrl.postTitaFaqi,\n      data: {\n        archives_id: foi.archives_id || '',\n        session_key: foi.session_key,\n        name: foi.name,\n        sex: foi.sex,\n        ganqing: foi.ganqing,\n        age: foi.age,\n        user_height: foi.user_height,\n        job: foi.job,\n        compny: foi.compny,\n        cart_house: foi.cart_house,\n        likes_sports: foi.likes_sports,\n        likes_movies: foi.likes_movies,\n        likes_books: foi.likes_books,\n        comment: foi.comment,\n        photos: foi.photos,\n        id: that.data.id,\n        date: that.data.day,\n        time: that.data.timeArr[that.data.timeIndex],\n        mobile: foi.mobile,\n        is_zhidai: (that.data.people === '寻约会对象') ? '1' : '2',\n        pay_type: that.data.payType\n      },\n      complete (res) {\n        // console.log(res)\n        // 订单响应成功\n        console.log('订单响应成功', res)\n        if (res.data.code === 400) {\n          return wx.showToast({\n            title: res.data.message,\n            image: '../../images/jiong.png'\n          })\n        }\n        if (res.data.data.order_ta_id) {\n          that.setData({\n            order_ta_id: res.data.data.order_ta_id\n          })\n          // 支付类型 0: 替ta付清\n          if (that.data.payType === 0) {\n            // 替Ta发起支付\n            that.getUserMoney()\n            wx.showLoading({\n              title: '请求支付中...'\n            })\n            setTimeout(() => {\n              wx.hideLoading()\n              that.setData({\n                orderMask: true\n              })\n            }, 300)\n            return\n            // 发起支付\n            // return that.moneyPay(res.data.data.order_ta_id, 'forOther')\n          } else {\n            // 无需支付\n            that.setData({\n              sendMask: true\n            })\n          }\n        }\n      }\n    }\n    app.wxrequest(smbj)\n  },\n  // 替ta支付\n  payforother () {\n    let that = this\n    let tiTAPay = {\n      url: useUrl.payByOrderTa,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        order_ta_id: that.data.order_ta_id\n      },\n      success (res) {\n        console.log('替他支付响应成功', res)\n        wx.hideLoading()\n        if (res.data.code === 400) {\n          return wx.showToast({\n            title: res.data.message,\n            image: '../../images/jiong.png'\n          })\n        }\n        // 支付响应成功\n        if (res.data.data.length !== 0) {\n          return that.moneyPay(res.data.data, 'forOther')\n        }\n        that.setData({\n          sendMask: true,\n          orderMask: false\n        })\n      }\n    }\n    app.wxrequest(tiTAPay)\n  },\n  // 信息提交后判断是否需要支付\n  moneyPay (e, type) {\n    console.log(e)\n    let that = this\n    // 支付参数\n    let payObj = {\n      timeStamp: e.timeStamp,\n      nonceStr: e.nonceStr,\n      package: e.package,\n      paySign: e.paySign,\n      success (res) {\n        // 支付成功响应\n        console.log('支付情况', res)\n        if (res.errMsg === 'requestPayment:ok') {\n          if (type === 'forOther') {\n            that.setData({\n              orderMask: false,\n              sendMask: true\n            })\n          } else {\n            that.setData({\n              orderMask: false,\n              datingSuccess: true\n            })\n          }\n        } else {\n          wx.showToast({\n            title: '您未完成微信支付'\n          })\n          // app.deleteOrder(that.data.order_id || that.data.order_ta_id)\n        }\n      },\n      fail (res) {\n        wx.showToast({\n          title: '您未完成微信支付'\n        })\n        console.log('支付失败', res)\n        app.deleteOrder(that.data.order_id || that.data.order_ta_id)\n      }\n    }\n    app.wxpay(payObj)\n  },\n  // 完善个人资料\n  getMyDay (date) {\n    var week = ''\n    var dates = new Date(date)\n    if (dates.getDay() === 0) week = '周日'\n    if (dates.getDay() === 1) week = '周一'\n    if (dates.getDay() === 2) week = '周二'\n    if (dates.getDay() === 3) week = '周三'\n    if (dates.getDay() === 4) week = '周四'\n    if (dates.getDay() === 5) week = '周五'\n    if (dates.getDay() === 6) week = '周六'\n    this.setData({\n      days: date.replace(/-/g, '.') + '(' + week + ')',\n      day: date\n    })\n  },\n// var w1 = getMyDay(new Date(\"2015-7-12\"));\n  // 选择约会对象\n  cp (e) {\n    let p = e.currentTarget.dataset.type\n    if (p === 'noself') {\n      this.setData({\n        people: '寻约会对象'\n      })\n    } else if (p === 'self') {\n      let pay = '我付清'\n      let payType = 1\n      if (this.data.type === 'forOther') {\n        pay = '替Ta付清'\n        payType = 0\n      }\n      this.setData({\n        people: '自带约会对象',\n        pay: pay,\n        payType: payType\n      })\n    } else if (p === 'my') {\n      this.setData({\n        pay: '我付清',\n        payType: 1\n      })\n    } else if (p === 'both') {\n      this.setData({\n        pay: '各付各',\n        payType: 2\n      })\n    } else if (p === 'other') {\n      this.setData({\n        pay: 'Ta付清',\n        payType: 3\n      })\n    } else if (p === 'forTa') {\n      this.setData({\n        pay: '替Ta付清',\n        payType: 0\n      })\n    } else if (p === 'confirm') {\n      this.setData({\n        pay: '确认人付清',\n        payType: 1\n      })\n    } else if (p === 'otherother') {\n      this.setData({\n        pay: '应邀者付清',\n        payType: 3\n      })\n    }\n    this.noMask()\n  },\n  // 遮罩\n  chooseIndustry (e) {\n    let type = e.currentTarget.dataset.type\n    // console.log(type)\n    if (type === 'time') {\n      this.setData({\n        industryShow: true\n      })\n    } else if (type === 'choosepeople') {\n      this.setData({\n        datingpeopleShow: true\n      })\n    } else if (type === 'kind') {\n      this.setData({\n        kindshow: true\n      })\n    } else if (type === 'pay') {\n      if (this.data.people === '自带约会对象') {\n        return wx.showToast({\n          title: '自带约会对象，不可选择付款类型',\n          image: '../../images/jiong.png',\n          mask: true\n        })\n      }\n      this.setData({\n        payShow: true\n      })\n    }\n  },\n  // 去除遮罩\n  noMask () {\n    this.setData({\n      industryShow: false,\n      datingpeopleShow: false,\n      kindshow: false,\n      payShow: false\n    })\n  },\n  // 获取自己的资料\n  getMyInfo () {\n    // let that = this\n    let getobj = {\n      url: useUrl.getUserInfoBySelf,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        wx.redirectTo({\n          url: `../userInfo/userInfo?userId=${res.data.data.user_id}&type=self`\n        })\n      }\n    }\n    app.wxrequest(getobj)\n  },\n  // 订单生效后跳转\n  goShare () {\n    if (this.data.people === '自带约会对象') {\n      return wx.redirectTo({\n        url: `../userOrder/userOrder`\n      })\n    }\n    this.getMyInfo()\n  },\n  // 去除遮罩层\n  delMask (e) {\n    let that = this\n    let type = e.currentTarget.dataset.type\n    console.log(type)\n    // console.log(type)\n    if (type === 'yxpay') {\n      // todo 支付意向金\n      let obj = {\n        url: useUrl.payByBond,\n        data: {\n          session_key: wx.getStorageSync('session_key')\n        },\n        success (res) {\n          console.log('保证金支付', res)\n          let yxObj = {\n            timeStamp: res.data.data.timeStamp,\n            nonceStr: res.data.data.nonceStr,\n            package: res.data.data.package,\n            paySign: res.data.data.paySign,\n            success (res) {\n              // 支付成功\n              // console.log(res)\n              // console.log(res.errMsg)\n              if (res.errMsg === 'requestPayment:ok') {\n                that.setData({\n                  moneyshow: false\n                })\n              }\n            },\n            fail (res) {\n              console.log('支付失败', res)\n            }\n          }\n          app.wxpay(yxObj)\n        }\n      }\n      app.wxrequest(obj)\n    } else if (type === 'cccc') {\n      wx.reLaunch({\n        url: '../index2/index2'\n      })\n      this.setData({\n        cancelshow: false\n      })\n    } else {\n      this.setData({\n        cancelshow: false\n      })\n    }\n  },\n  // 立即发起按钮\n  goPayFirst () {\n    if (this.data.mobile.length !== 11) {\n      return wx.showToast({\n        image: '../../images/jiong.png',\n        mask: true,\n        title: '请填写完整的手机号码'\n      })\n    }\n    wx.setStorageSync('phoneNumber', this.data.mobile)\n    if (this.data.timeArr[this.data.timeIndex].indexOf(':') * 1 === -1) {\n      return wx.showToast({\n        image: '../../images/jiong.png',\n        mask: true,\n        title: '请选择约会时间'\n      })\n    }\n    if (this.data.datashow && this.data.people !== '自带约会对象') {\n      return this.setData({\n        datashows: true\n      })\n    }\n    wx.showLoading({\n      title: '等待中'\n    })\n    this.getUserMoney()\n    this.sendOrderData()\n  },\n  // 支付弹窗去支付\n  goPay () {\n    wx.showLoading({\n      title: '等待中'\n    })\n    let that = this\n    if (this.data.type === 'forOther') {\n      this.payforother()\n    } else {\n      // this.sendOrderData()\n      if (that.data.payType === 1 || that.data.payType === 2) {\n        let orderPayobj = {\n          url: useUrl.payByOrder,\n          data: {\n            session_key: wx.getStorageSync('session_key'),\n            order_id: that.data.order_id\n          },\n          success (res) {\n            wx.hideLoading()\n            console.log('order success', res)\n            // 需要支付的发起付款\n            if (res.data.code === 400) {\n              return wx.showToast({\n                title: res.data.message\n              })\n            }\n            if (res.data.data.length !== 0) {\n              // todo 微信支付流程\n              that.moneyPay(res.data.data, 'self')\n              return\n            }\n            that.setData({\n              orderMask: false,\n              datingSuccess: true\n            })\n          }\n        }\n        app.wxrequest(orderPayobj)\n      } else {\n        wx.hideLoading()\n        that.setData({\n          orderMask: false,\n          datingSuccess: true\n        })\n      }\n    }\n  },\n  // 发起邀约生成订单信息\n  sendOrderData () {\n    let that = this\n    let obj = {\n      url: useUrl.postFaqiYaoyue,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        id: that.data.id,\n        date: that.data.day,\n        time: that.data.timeArr[that.data.timeIndex],\n        mobile: that.data.mobile,\n        is_zhidai: (that.data.people === '寻约会对象') ? '1' : '2',\n        pay_type: that.data.payType\n      },\n      success (res) {\n        if (res.data.code === 400) {\n          that.setData({\n            orderMask: false\n          })\n          return wx.showToast({\n            image: '../../images/jiong.png',\n            title: res.data.message,\n            mask: true\n          })\n        }\n        setTimeout(() => {\n          wx.hideLoading()\n          that.setData({\n            orderMask: true\n          })\n        }, 300)\n        // 订单响应成功\n        that.setData({\n          order_id: res.data.data.order_id\n        })\n        // 普通订单支付类型为 1：我付清 2：各付一半\n        // if (that.data.payType === 1 || that.data.payType === 2) {\n        //   let orderPayobj = {\n        //     url: useUrl.payByOrder,\n        //     data: {\n        //       session_key: wx.getStorageSync('session_key'),\n        //       order_id: res.data.data.order_id\n        //     },\n        //     success (res) {\n        //       console.log('order success', res)\n        //       // 需要支付的发起付款\n        //       if (res.data.data.length !== 0) {\n        //         // todo 微信支付流程\n        //         that.moneyPay(res.data.data, 'self')\n        //         return\n        //       }\n        //       that.setData({\n        //         orderMask: false,\n        //         datingSuccess: true\n        //       })\n        //     }\n        //   }\n        //   app.wxrequest(orderPayobj)\n        // } else {\n        //   that.setData({\n        //     orderMask: false,\n        //     datingSuccess: true\n        //   })\n        // }\n      }\n    }\n    app.wxrequest(obj)\n  },\n  // 手机号码输入\n  mobileInput (e) {\n    this.setData({\n      mobile: e.detail.value\n    })\n  },\n  // 用户资料检查\n  checkUser () {\n    let that = this\n    let obj = {\n      url: useUrl.isPerfectData,\n      data: {\n        session_key: wx.getStorageSync('session_key')\n      },\n      success (res) {\n        if (res.data.data.is_perfect_data.toString() === '0') {\n          that.setData({\n            datashow: true\n          })\n        } else if (res.data.data.is_perfect_data.toString() === '1') {\n          // 完整数据 1\n          that.setData({\n            datashow: false,\n            datashows: false\n          })\n        }\n        if (res.data.data.isShiyue.toString() === '1') {\n          // 失约超过次数 1超\n          that.setData({\n            cancelshow: true\n          })\n        }\n        // if (res.data.data.isHasBaomoney.toString() === '0') {\n        //   // 无保证金 0\n        //   that.setData({\n        //     moneyshow: true\n        //   })\n        // }\n      }\n    }\n    app.wxrequest(obj)\n  },\n  // 获取套餐时间列表\n  getOrderTime (id) {\n    let that = this\n    let time = wx.getStorageSync('time')\n    let sb = {\n      url: useUrl.packageDateTimeLists,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        id: id,\n        date: time.y + '-' + (time.m_n < 10 ? '0' + time.m_n : time.m_n) + '-' + (time.d < 10 ? '0' + time.d : time.d)\n      },\n      success (res) {\n        if (res.data.data.length * 1 === 0) {\n          return that.setData({\n            timeArr: ['该套餐已不可预定了']\n          })\n        }\n        that.setData({\n          timeArr: that.data.timeArr.concat(res.data.data)\n        })\n        // console.log(res.data.data)\n      }\n    }\n    app.wxrequest(sb)\n  },\n  // picker选择器\n  bindPickerChange (e) {\n    let value = e.detail.value\n    this.setData({\n      timeIndex: value\n    })\n  },\n  // getmobile () {\n  //   app.getPhone(this)\n  //   this.setData({\n  //     mobile: this.data.phoneNumber\n  //   })\n  // },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (params) {\n    // if (wx.getStorageSync('phoneNumber')) {\n    //   this.setData({\n    //     mobile: wx.getStorageSync('phoneNumber')\n    //   })\n    // }\n    this.setData({\n      orderInfo: wx.getStorageSync('orderInfo')\n    })\n    // TODO: onLoad\n    if (params.type === 'forOther') {\n      this.setData({\n        pay: '各付各',\n        payType: 2,\n        phonenoshow: true\n      })\n    }\n    this.getOrderTime(params.id)\n    this.setData({\n      price: params.price || '',\n      price2: params.price || '',\n      address: params.address || '',\n      title: params.title || '',\n      id: params.id || '',\n      type: params.type || ''\n    })\n    // 日期生成\n    let time = wx.getStorageSync('time')\n    this.getMyDay(time.y + '-' + (time.m_n < 10 ? '0' + time.m_n : time.m_n) + '-' + (time.d < 10 ? '0' + time.d : time.d))\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // if (wx.getStorageSync('phoneNumber')) {\n    //   this.setData({\n    //     mobile: app.getPhone()\n    //   })\n    app.getPhone(this)\n    // }\n    // console.log(params)\n    // TODO: onShow\n    if (this.data.pay === '替Ta付清') return\n    this.checkUser()\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  },\n  // 页面内转发\n  onShareAppMessage () {\n    let that = this\n    this.setData({\n      sendMask: false\n    })\n    return {\n      title: '有好友替您发起以下邀约:',\n      imageUrl: that.data.orderInfo.imgUrl,\n      path: '/pages/otherConfirm/otherConfirm?orderTaId=' + that.data.order_ta_id + '&days=' + that.data.days + '&title=' + that.data.title + '&address=' + that.data.address,\n      // 转发成功响应\n      success () {\n        wx.navigateBack({\n          delta: 1\n        })\n      },\n      fail () {\n        that.setData({\n          sendMask: true\n        })\n      }\n    }\n  }\n})\n\n"]}