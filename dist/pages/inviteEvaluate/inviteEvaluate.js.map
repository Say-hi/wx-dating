{"version":3,"sources":["pages/inviteEvaluate/inviteEvaluate.js"],"names":["app","getApp","useUrl","require","Page","data","textInput","e","setData","textValue","detail","value","toString","send","wx","getStorageSync","showToast","title","length","that","obj","url","postApplyUserComment","session_key","comment_user_id","id","comment_content","success","res","code","mask","setTimeout","reLaunch","message","wxrequest","goUser","navigateTo","currentTarget","dataset","getInfo","getObj","applyUserComment","job","split","user","onLoad","params","wxlogin","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"inviteEvaluate.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\nconst useUrl = require('../../utils/service')\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n  },\n  textInput (e) {\n    this.setData({\n      textValue: e.detail.value.toString()\n    })\n  },\n  // 发送信息\n  send () {\n    if (!wx.getStorageSync('session_key')) {\n      return wx.showToast({\n        title: '您未授权小程序,无法发送评论，请删除小程序后,再打开链接并授权'\n      })\n    }\n    if (this.data.textValue.length === 0) {\n      return wx.showToast({\n        title: '请填写评论内容'\n      })\n    }\n    let that = this\n    let obj = {\n      url: useUrl.postApplyUserComment,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        comment_user_id: that.data.id,\n        comment_content: that.data.textValue\n      },\n      success (res) {\n        if (res.data.code === 200) {\n          wx.showToast({\n            title: '评价成功',\n            mask: true\n          })\n          setTimeout(function () {\n            wx.reLaunch({\n              url: '/pages/index2/index2'\n            })\n          }, 1000)\n        } else {\n          wx.showToast({\n            title: res.data.message\n          })\n        }\n      }\n    }\n    app.wxrequest(obj)\n  },\n  goUser (e) {\n    wx.navigateTo({\n      url: `../userInfo/userInfo?userId=${e.currentTarget.dataset.id}`\n    })\n  },\n  // 获取评价用户信息\n  getInfo (id) {\n    let that = this\n    let getObj = {\n      url: useUrl.applyUserComment,\n      data: {\n        session_key: wx.getStorageSync('session_key'),\n        comment_user_id: id\n      },\n      success (res) {\n        res.data.data.job = res.data.data.job.split('-')[1]\n        that.setData({\n          user: res.data.data\n        })\n      }\n    }\n    app.wxrequest(getObj)\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (params) {\n    let that = this\n    this.setData({\n      id: params.id\n    })\n    app.wxlogin(that.getInfo, params.id)\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}