{"version":3,"sources":["utils/calendar-converter.js"],"names":["lunarInfo","Array","Gan","Zhi","Animals","sTermInfo","nStr1","nStr2","cmonthName","sFtv","wFtv","lFtv","ChinaWorkRest","lYearDays","y","i","sum","leapDays","leapMonth","monthDays","m","Lunar","date","objDate","Date","getFullYear","getMonth","getDate","leap","temp","baseDate","offset","Math","round","dayCyl","monCyl","year","yearCyl","isLeap","month","day","Solar","isLeapMonth","lyear","lmonth","lday","parseInt","solarDate","valueOf","getAnimalYear","cyclical","num","easter","term2","sTerm","dayTerm2","UTC","lDayTerm2","lMlen","l15","getTime","dayEaster","getUTCDay","getUTCMonth","d","getUTCDate","getCDay","s","floor","solarTerm","solarTermBase","solarTermIdx","solarTermOS","n","charAt","charCodeAt","calElement","sYear","sMonth","sDay","week","lYear","lMonth","lDay","cYear","cMonth","cDay","lunarDay","lunarMonth","lunarYear","lunarFestival","solarFestival","solarTerms","CalendarConverter","solar2lunar","weekDay","getDay","lunar","addFstv","lunar2solar","solar","that","firstNode","dayCyclical","tmp1","tmp2","item","match","Number","RegExp","$1","$2","$4","$3","wFtvDate","$5","lMonLen","workRestDay","toString","module","exports"],"mappings":"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","file":"calendar-converter.js","sourcesContent":["/*eslint-disable*/\r\n///////////////////////////////////////////////////\r\n//\r\n// lunarInfo\r\n//\r\n///////////////////////////////////////////////////\r\n\r\n// base data about chinese year informace\r\n// 保存公历农历之间的转换信息:以任意一年作为起点，\r\n// 把从这一年起若干年(依需要而定)的农历信息保存起来。 要保存一年的信息，只要两个信息就够了: 1)农历每个月的大小;2)今年是否有闰月，闰几月以及闰月的大小。 用一个整数来保存这些信息就足够了。 具体的方法是:用一位来表示一个月的大小，大月记为1，小月记为0，\r\n// 这样就用掉12位(无闰月)或13位(有闰月)，再用高四位来表示闰月的月份，没有闰月记为0。 ※-----例----: 2000年的信息数据是0xc96，化成二进制就是110010010110B，\r\n// 表示的含义是:1、2、5、8、10、11月大，其余月份小。 2001年的农历信息数据是0x1a95(因为闰月，所以有13位)，\r\n// 具体的就是1、2、4、5、8、10、12月大， 其余月份小(0x1a95=1101010010101B)，\r\n// 4月的后面那一个0表示的是闰4月小，接着的那个1表示5月大。 这样就可以用一个数组来保存这些信息。在这里用数组lunarInfo[]来保存这些信息\r\nvar lunarInfo = new Array(\r\n    0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260,\r\n    0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2,\r\n    0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255,\r\n    0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977,\r\n    0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40,\r\n    0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970,\r\n    0x06566, 0x0d4a0, 0x0ea50, 0x06e95, 0x05ad0,\r\n    0x02b60, 0x186e3, 0x092e0, 0x1c8d7, 0x0c950,\r\n    0x0d4a0, 0x1d8a6, 0x0b550, 0x056a0, 0x1a5b4,\r\n    0x025d0, 0x092d0, 0x0d2b2, 0x0a950, 0x0b557,\r\n    0x06ca0, 0x0b550, 0x15355, 0x04da0, 0x0a5d0,\r\n    0x14573, 0x052d0, 0x0a9a8, 0x0e950, 0x06aa0,\r\n    0x0aea6, 0x0ab50, 0x04b60, 0x0aae4, 0x0a570,\r\n    0x05260, 0x0f263, 0x0d950, 0x05b57, 0x056a0,\r\n    0x096d0, 0x04dd5, 0x04ad0, 0x0a4d0, 0x0d4d4,\r\n    0x0d250, 0x0d558, 0x0b540, 0x0b5a0, 0x195a6,\r\n    0x095b0, 0x049b0, 0x0a974, 0x0a4b0, 0x0b27a,\r\n    0x06a50, 0x06d40, 0x0af46, 0x0ab60, 0x09570,\r\n    0x04af5, 0x04970, 0x064b0, 0x074a3, 0x0ea50,\r\n    0x06b58, 0x055c0, 0x0ab60, 0x096d5, 0x092e0,\r\n    0x0c960, 0x0d954, 0x0d4a0, 0x0da50, 0x07552,\r\n    0x056a0, 0x0abb7, 0x025d0, 0x092d0, 0x0cab5,\r\n    0x0a950, 0x0b4a0, 0x0baa4, 0x0ad50, 0x055d9,\r\n    0x04ba0, 0x0a5b0, 0x15176, 0x052b0, 0x0a930,\r\n    0x07954, 0x06aa0, 0x0ad50, 0x05b52, 0x04b60,\r\n    0x0a6e6, 0x0a4e0, 0x0d260, 0x0ea65, 0x0d530,\r\n    0x05aa0, 0x076a3, 0x096d0, 0x04bd7, 0x04ad0,\r\n    0x0a4d0, 0x1d0b6, 0x0d250, 0x0d520, 0x0dd45,\r\n    0x0b5a0, 0x056d0, 0x055b2, 0x049b0, 0x0a577,\r\n    0x0a4b0, 0x0aa50, 0x1b255, 0x06d20, 0x0ada0);\r\n\r\nvar Gan = new Array(\"甲\", \"乙\", \"丙\", \"丁\", \"戊\", \"己\", \"庚\", \"辛\", \"壬\", \"癸\");\r\nvar Zhi = new Array(\"子\", \"丑\", \"寅\", \"卯\", \"辰\", \"巳\", \"午\", \"未\", \"申\", \"酉\", \"戌\", \"亥\");\r\nvar Animals = new Array(\"鼠\", \"牛\", \"虎\", \"兔\", \"龙\", \"蛇\", \"马\", \"羊\", \"猴\", \"鸡\", \"狗\", \"猪\");\r\n// TODO is it need to do\r\nvar sTermInfo = new Array(0, 21208, 42467, 63836, 85337, 107014, 128867, 150921, 173149, 195551, 218072, 240693, 263343, 285989, 308563, 331033, 353350, 375494, 397447, 419210, 440795, 462224, 483532, 504758);\r\nvar nStr1 = new Array('日', '一', '二', '三', '四', '五', '六', '七', '八', '九', '十');\r\nvar nStr2 = new Array('初', '十', '廿', '卅', '□');\r\n// var monthName = new Array(\"JAN\",\"FEB\",\"MAR\",\"APR\",\"MAY\",\"JUN\",\"JUL\",\"AUG\",\"SEP\",\"OCT\",\"NOV\",\"DEC\");\r\nvar cmonthName = new Array('正', '二', '三', '四', '五', '六', '七', '八', '九', '十', '十一', '腊');\r\n\r\n//公历节日 *表示放假日\r\nvar sFtv = new Array(\r\n    \"0101 元旦\",\r\n    // \"0214 情人节\",\r\n    \"0308 妇女节\",\r\n    \"0312 植树节\",\r\n    \"0401*愚人节\",\r\n    // \"0422 地球日\",\r\n    \"0501 劳动节\",\r\n    // \"0504 青年节\",\r\n    // \"0531 无烟日\",\r\n    \"0601 儿童节\",\r\n    // \"0606 爱眼日\",\r\n    \"0701 建党日\",\r\n    // \"0707 抗战纪念日\",\r\n    // \"0801 建军节\",\r\n    \"0910 教师节\",\r\n    // \"0918 九·一八事变纪念日\",\r\n    \"1001*国庆节\",\r\n    \"1031 万圣节\",\r\n    \"1111 光棍节\",\r\n    // \"1201 艾滋病日\",\r\n    // \"1213 南京大屠杀纪念日\",\r\n    \"1224 平安夜\",\r\n    \"1225 圣诞节\");\r\n\r\n//某月的第几个星期几。 5,6,7,8 表示到数第 1,2,3,4 个星期几\r\nvar wFtv = new Array(\r\n    //一月的最后一个星期日（月倒数第一个星期日）\r\n    \"0520 母亲节\",\r\n    // \"0630 父亲节\",\r\n    \"1144 感恩节\"\r\n);\r\n\r\n//农历节日\r\nvar lFtv = new Array(\r\n    \"0101*春节\",\r\n    \"0115*元宵节\",\r\n    \"0202 龙抬头\",\r\n    \"0505 端午节\",\r\n    \"0707 七夕\",\r\n    \"0715 中元节\",\r\n    \"0815 中秋节\",\r\n    \"0909 重阳节\",\r\n    \"1208 腊八节\",\r\n    \"1223 小年\",\r\n    \"0100*除夕\");\r\n//\r\nvar ChinaWorkRest = {\r\n\"20130101\":\"1\",\"20130102\":\"1\",\"20130103\":\"1\",\"20130105\":\"2\",\"20130106\":\"2\",\"20130209\":\"1\",\"20130210\":\"1\",\"20130211\":\"1\",\"20130212\":\"1\",\"20130213\":\"1\",\"20130214\":\"1\",\"20130215\":\"1\",\"20130216\":\"2\",\"20130217\":\"2\",\"20130404\":\"1\",\"20130405\":\"1\",\"20130406\":\"1\",\"20130407\":\"2\",\"20130427\":\"2\",\"20130428\":\"2\",\"20130429\":\"1\",\"20130430\":\"1\",\"20130501\":\"1\",\"20130608\":\"2\",\"20130609\":\"2\",\"20130610\":\"1\",\"20130611\":\"1\",\"20130612\":\"1\",\"20130919\":\"1\",\"20130920\":\"1\",\"20130921\":\"1\",\"20130922\":\"2\",\"20130928\":\"1\",\"20130929\":\"2\",\"20130930\":\"2\",\"20131001\":\"1\",\"20131002\":\"1\",\"20131003\":\"1\",\"20131004\":\"1\",\"20131005\":\"1\",\"20131006\":\"1\",\"20131007\":\"1\",\"20131012\":\"2\",\"20140101\":\"1\",\"20140126\":\"2\",\"20140131\":\"1\",\"20140201\":\"1\",\"20140202\":\"1\",\"20140203\":\"1\",\"20140204\":\"1\",\"20140205\":\"1\",\"20140206\":\"1\",\"20140208\":\"2\",\"20140405\":\"1\",\"20140406\":\"1\",\"20140407\":\"1\",\"20140501\":\"1\",\"20140502\":\"1\",\"20140503\":\"1\",\"20140504\":\"2\",\"20140531\":\"1\",\"20140601\":\"1\",\"20140602\":\"1\",\"20140906\":\"1\",\"20140907\":\"1\",\"20140908\":\"1\",\"20140928\":\"2\",\"20141001\":\"1\",\"20141002\":\"1\",\"20141003\":\"1\",\"20141004\":\"1\",\"20141005\":\"1\",\"20141006\":\"1\",\"20141007\":\"1\",\"20141011\":\"2\",\"20150101\":\"1\",\"20150102\":\"1\",\"20150103\":\"1\",\"20150104\":\"2\",\"20150215\":\"2\",\"20150216\":\"2\",\"20150217\":\"2\",\"20150218\":\"1\",\"20150219\":\"1\",\"20150220\":\"1\",\"20150221\":\"1\",\"20150222\":\"1\",\"20150223\":\"1\",\"20150224\":\"1\",\"20150225\":\"2\",\"20150226\":\"2\",\"20150227\":\"2\",\"20150228\":\"2\",\"20150404\":\"1\",\"20150405\":\"1\",\"20150406\":\"1\",\"20150501\":\"1\",\"20150502\":\"1\",\"20150503\":\"1\",\"20150620\":\"1\",\"20150621\":\"1\",\"20150622\":\"1\",\"20150903\":\"1\",\"20150904\":\"1\",\"20150905\":\"1\",\"20150906\":\"2\",\"20150926\":\"1\",\"20150927\":\"1\",\"20150928\":\"2\",\"20150929\":\"2\",\"20150930\":\"2\",\"20151001\":\"1\",\"20151002\":\"1\",\"20151003\":\"1\",\"20151004\":\"1\",\"20151005\":\"1\",\"20151006\":\"1\",\"20151007\":\"1\",\"20151008\":\"2\",\"20151009\":\"2\",\"20151010\":\"2\",\"20160101\":\"1\",\"20160102\":\"1\",\"20160103\":\"1\",\"20160206\":\"2\",\"20160207\":\"1\",\"20160208\":\"1\",\"20160209\":\"1\",\"20160210\":\"1\",\"20160211\":\"1\",\"20160212\":\"1\",\"20160213\":\"1\",\"20160214\":\"2\",\"20160402\":\"1\",\"20160403\":\"1\",\"20160404\":\"1\",\"20160430\":\"1\",\"20160501\":\"1\",\"20160502\":\"1\",\"20160609\":\"1\",\"20160610\":\"1\",\"20160611\":\"1\",\"20160612\":\"2\",\"20160915\":\"1\",\"20160916\":\"1\",\"20160917\":\"1\",\"20160918\":\"2\",\"20161001\":\"1\",\"20161002\":\"1\",\"20161003\":\"1\",\"20161004\":\"1\",\"20161005\":\"1\",\"20161006\":\"1\",\"20161007\":\"1\",\"20161008\":\"2\",\"20161009\":\"2\",\"20161231\":\"1\",\"20170101\":\"1\",\"20170102\":\"1\",\"20170122\":\"2\",\"20170127\":\"1\",\"20170128\":\"1\",\"20170129\":\"1\",\"20170130\":\"1\",\"20170131\":\"1\",\"20170201\":\"1\",\"20170202\":\"1\",\"20170203\":\"2\",\"20170204\":\"2\",\"20170401\":\"2\",\"20170402\":\"1\",\"20170403\":\"1\",\"20170404\":\"1\",\"20170429\":\"1\",\"20170430\":\"1\",\"20170501\":\"1\",\"20170527\":\"2\",\"20170528\":\"1\",\"20170529\":\"1\",\"20170530\":\"1\",\"20170930\":\"2\",\"20171001\":\"1\",\"20171002\":\"1\",\"20171003\":\"1\",\"20171004\":\"1\",\"20171005\":\"1\",\"20171006\":\"1\",\"20171007\":\"1\",\"20171008\":\"1\",\"20180101\":\"1\",\"20180211\":\"2\",\"20180215\":\"1\",\"20180216\":\"1\",\"20180217\":\"1\",\"20180218\":\"1\",\"20180219\":\"1\",\"20180220\":\"1\",\"20180221\":\"1\",\"20180224\":\"2\",\"20180405\":\"1\",\"20180406\":\"1\",\"20180407\":\"1\",\"20180408\":\"2\",\"20180428\":\"2\",\"20180429\":\"1\",\"20180430\":\"1\",\"20180501\":\"1\",\"20180616\":\"1\",\"20180617\":\"1\",\"20180618\":\"1\",\"20180922\":\"1\",\"20180923\":\"1\",\"20180924\":\"1\",\"20180929\":\"2\",\"20180930\":\"2\",\"20181001\":\"1\",\"20181002\":\"1\",\"20181003\":\"1\",\"20181004\":\"1\",\"20181005\":\"1\",\"20181006\":\"1\",\"20181007\":\"1\"\r\n};\r\n//====================================== 返回农历 y年的总天数\r\nfunction lYearDays(y) {\r\n    var i, sum = 348\r\n    for (i = 0x8000; i > 0x8; i >>= 1) sum += (lunarInfo[y - 1900] & i) ? 1 : 0\r\n    return (sum + leapDays(y))\r\n}\r\n\r\n//====================================== 返回农历 y年的闰月的天数\r\nfunction leapDays(y) {\r\n    if (leapMonth(y)) return ((lunarInfo[y - 1900] & 0x10000) ? 30 : 29)\r\n    else return (0)\r\n}\r\n\r\n//====================================== 返回农历 y年闰哪个月 1-12，没闰返回 0\r\nfunction leapMonth(y) {\r\n    return (lunarInfo[y - 1900] & 0xf)\r\n}\r\n\r\n//====================================== 返回农历 y年m月的总天数\r\nfunction monthDays(y, m) {\r\n    return ((lunarInfo[y - 1900] & (0x10000 >> m)) ? 30 : 29)\r\n}\r\n\r\n//====================================== 算出农历，传入日期对象，返回农历日期日期对象\r\n// 该对象属性有 .year .month .day .isLeap .yearCyl .dayCyl .monCyl\r\nfunction Lunar(date) {\r\n    var objDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n    var i, leap = 0, temp = 0\r\n    var baseDate = new Date(1900, 0, 31)\r\n    // Mac和linux平台的firefox在此处会产生浮点数错误\r\n    var offset = Math.round((objDate - baseDate) / 86400000)\r\n\r\n    this.dayCyl = offset + 40\r\n    this.monCyl = 14\r\n\r\n    for (i = 1900; i < 2050 && offset > 0; i++) {\r\n        temp = lYearDays(i)\r\n        offset -= temp\r\n        this.monCyl += 12\r\n    }\r\n\r\n    if (offset < 0) {\r\n        offset += temp;\r\n        i--;\r\n        this.monCyl -= 12\r\n    }\r\n\r\n    this.year = i\r\n    this.yearCyl = i - 1864\r\n\r\n    leap = leapMonth(i) //闰哪个月\r\n    this.isLeap = false\r\n\r\n    for (i = 1; i < 13 && offset > 0; i++) {\r\n        //闰月\r\n        if (leap > 0 && i == (leap + 1) && this.isLeap == false)\r\n        { --i; this.isLeap = true; temp = leapDays(this.year); }\r\n        else\r\n        { temp = monthDays(this.year, i); }\r\n\r\n        //解除闰月\r\n        if (this.isLeap == true && i == (leap + 1)) this.isLeap = false\r\n\r\n        offset -= temp\r\n        if (this.isLeap == false) this.monCyl++\r\n    }\r\n\r\n    if (offset == 0 && leap > 0 && i == leap + 1)\r\n        if (this.isLeap)\r\n        { this.isLeap = false; }\r\n        else\r\n        { this.isLeap = true; --i; --this.monCyl; }\r\n\r\n    if (offset < 0) { offset += temp; --i; --this.monCyl; }\r\n\r\n    this.month = i\r\n    this.day = offset + 1\r\n}\r\n\r\n///////////////////////////////////////////////////////////\r\n//\r\n// lunar 2 solar\r\n//\r\n///////////////////////////////////////////////////////////\r\n// year .month .day .isLeap .yearCyl .dayCyl .monCyl\r\nfunction Solar(date, isLeapMonth) {\r\n    var lyear = date.getFullYear(),\r\n        lmonth = date.getMonth() + 1,\r\n        lday = date.getDate(),\r\n        offset = 0,\r\n        leap = isLeap(lyear);\r\n\r\n    // increment year\r\n    for (var i = 1900; i < lyear; i++) {\r\n        offset += lYearDays(i);\r\n    }\r\n\r\n    // increment month\r\n    // add days in all months up to the current month\r\n    for (var i = 1; i < lmonth; i++) {\r\n        // add extra days for leap month\r\n        if (i == leapMonth(lyear)) {\r\n            offset += leapDays(lyear);\r\n        }\r\n        offset += monthDays(lyear, i);\r\n    }\r\n    // if current month is leap month, add days in normal month\r\n    if (leap && isLeapMonth) {\r\n        offset += monthDays(lyear, i);\r\n    }\r\n\r\n    // increment\r\n    offset += parseInt(lday) - 1;\r\n\r\n    var baseDate = new Date(1900, 0, 31);\r\n    var solarDate = new Date(baseDate.valueOf() + offset * 86400000);\r\n\r\n    this.year = solarDate.getFullYear();\r\n    this.month = solarDate.getMonth();\r\n    this.day = solarDate.getDate();\r\n    this.isLeap = leap;\r\n}\r\n\r\nfunction isLeap(year) {\r\n    return year % 4 == 0 && (year % 100 != 0 || year % 400 == 0);\r\n}\r\n\r\nfunction getAnimalYear(year) {\r\n    return Animals[((year - 1900) % 12)];\r\n}\r\n\r\n\r\n//============================== 传入 offset 返回干支, 0=甲子\r\nfunction cyclical(num) {\r\n    return (Gan[num % 10] + Zhi[num % 12]);\r\n}\r\n//======================================= 返回该年的复活节(春分后第一次满月周后的第一主日)\r\nfunction easter(y) {\r\n\r\n    var term2 = sTerm(y, 5); //取得春分日期\r\n    var dayTerm2 = new Date(Date.UTC(y, 2, term2, 0, 0, 0, 0)); //取得春分的公历日期控件(春分一定出现在3月)\r\n    var lDayTerm2 = new Lunar(dayTerm2); //取得取得春分农历\r\n\r\n    if (lDayTerm2.day < 15) //取得下个月圆的相差天数\r\n        var lMlen = 15 - lDayTerm2.day;\r\n    else\r\n        var lMlen = (lDayTerm2.isLeap ? leapDays(y) : monthDays(y, lDayTerm2.month)) - lDayTerm2.day + 15;\r\n\r\n    //一天等于 1000*60*60*24 = 86400000 毫秒\r\n    var l15 = new Date(dayTerm2.getTime() + 86400000 * lMlen); //求出第一次月圆为公历几日\r\n    var dayEaster = new Date(l15.getTime() + 86400000 * (7 - l15.getUTCDay())); //求出下个周日\r\n\r\n    this.m = dayEaster.getUTCMonth();\r\n    this.d = dayEaster.getUTCDate();\r\n\r\n}\r\n\r\n//====================== 中文日期\r\nfunction getCDay(d) {\r\n    var s;\r\n\r\n    switch (d) {\r\n        case 10:\r\n            s = '初十'; break;\r\n        case 20:\r\n            s = '二十'; break;\r\n            break;\r\n        case 30:\r\n            s = '三十'; break;\r\n            break;\r\n        default:\r\n            s = nStr2[Math.floor(d / 10)];\r\n            s += nStr1[d % 10];\r\n    }\r\n    return (s);\r\n}\r\n\r\n////////////////////////////////////////////////////////////////\r\n//\r\n// 24 节气\r\n//\r\n///////////////////////////////////////////////////////////////\r\nvar solarTerm = new Array(\"小寒\", \"大寒\", \"立春\", \"雨水\", \"惊蛰\", \"春分\", \"清明\",\r\n    \"谷雨\", \"立夏\", \"小满\", \"芒种\", \"夏至\", \"小暑\", \"大暑\", \"立秋\", \"处暑\", \"白露\", \"秋分\",\r\n    \"寒露\", \"霜降\", \"立冬\", \"小雪\", \"大雪\", \"冬至\");\r\n\r\nvar solarTermBase = new Array(4, 19, 3, 18, 4, 19, 4, 19, 4, 20, 4, 20, 6, 22, 6, 22, 6, 22, 7, 22, 6, 21, 6, 21);\r\nvar solarTermIdx = '0123415341536789:;<9:=<>:=1>?012@015@015@015AB78CDE8CD=1FD01GH01GH01IH01IJ0KLMN;LMBEOPDQRST0RUH0RVH0RWH0RWM0XYMNZ[MB\\\\]PT^_ST`_WH`_WH`_WM`_WM`aYMbc[Mde]Sfe]gfh_gih_Wih_WjhaWjka[jkl[jmn]ope]qph_qrh_sth_W';\r\nvar solarTermOS = '211122112122112121222211221122122222212222222221222122222232222222222222222233223232223232222222322222112122112121222211222122222222222222222222322222112122112121222111211122122222212221222221221122122222222222222222222223222232222232222222222222112122112121122111211122122122212221222221221122122222222222222221211122112122212221222211222122222232222232222222222222112122112121111111222222112121112121111111222222111121112121111111211122112122112121122111222212111121111121111111111122112122112121122111211122112122212221222221222211111121111121111111222111111121111111111111111122112121112121111111222111111111111111111111111122111121112121111111221122122222212221222221222111011111111111111111111122111121111121111111211122112122112121122211221111011111101111111111111112111121111121111111211122112122112221222211221111011111101111111110111111111121111111111111111122112121112121122111111011111121111111111111111011111111112111111111111011111111111111111111221111011111101110111110111011011111111111111111221111011011101110111110111011011111101111111111211111001011101110111110110011011111101111111111211111001011001010111110110011011111101111111110211111001011001010111100110011011011101110111110211111001011001010011100110011001011101110111110211111001010001010011000100011001011001010111110111111001010001010011000111111111111111111111111100011001011001010111100111111001010001010000000111111000010000010000000100011001011001010011100110011001011001110111110100011001010001010011000110011001011001010111110111100000010000000000000000011001010001010011000111100000000000000000000000011001010001010000000111000000000000000000000000011001010000010000000';\r\n\r\n// 形式如function sTerm(year, n)，用来计算某年的第n个节气（从0小寒算起）为几号，这也基本被认可为节气计算的基本形式。由于没个月份有两个节气，计算时需要调用两次（n和n+1）\r\n//===== 某年的第n个节气为几日（从0小寒起算）\r\nfunction sTerm(y, n) {\r\n    return (solarTermBase[n] + Math.floor(solarTermOS.charAt((Math.floor(solarTermIdx.charCodeAt(y - 1900)) - 48) * 24 + n)));\r\n}\r\n/////////////////////////////////////////////////////////////////\r\n//\r\n//  calElement model\r\n//\r\n/////////////////////////////////////////////////////////////////\r\n\r\n//============================== 阴历属性\r\nfunction calElement(sYear, sMonth, sDay, week, lYear, lMonth, lDay, isLeap, cYear, cMonth, cDay) {\r\n    //瓣句\r\n    this.sYear = sYear;   //公元年4位数字\r\n    this.sMonth = sMonth;  //公元月数字\r\n    this.sDay = sDay;    //公元日数字\r\n    this.week = week;    //星期, 1个中文\r\n    //农历\r\n    this.lYear = lYear;   //公元年4位数字\r\n    this.lMonth = lMonth;  //农历月数字\r\n    this.lDay = lDay;    //农历日数字\r\n    this.isLeap = isLeap;  //是否为农历闰月?\r\n    //八字\r\n    this.cYear = cYear;   //年柱, 2个中文\r\n    this.cMonth = cMonth;  //月柱, 2个中文\r\n    this.cDay = cDay;    //日柱, 2个中文\r\n\r\n    this.lunarDay = getCDay(lDay);\r\n    this.lunarMonth = cmonthName[lMonth - 1];\r\n    this.lunarYear = getAnimalYear(lYear);\r\n\r\n    // this.color      = '';\r\n\r\n    this.lunarFestival = ''; //农历节日\r\n    this.solarFestival = ''; //公历节日\r\n    this.solarTerms = ''; //节气\r\n}\r\n///////////////////////////////////////////////////////////////\r\n//\r\n//  main\r\n//\r\n///////////////////////////////////////////////////////////////\r\n// date's month should be --, example: 2012-5-21 -> new Date(2012, 4, 21)\r\n// no matter solar or lunar\r\nfunction CalendarConverter() {\r\n    this.solar2lunar = function (date) {\r\n        var sYear = date.getFullYear(),\r\n            sMonth = date.getMonth(),\r\n            sDay = date.getDate(),\r\n            weekDay = nStr1[date.getDay()],\r\n            lunar = new Lunar(date),\r\n            lunarYear = lunar.year,\r\n            lunarMonth = lunar.month,\r\n            lunarDay = lunar.day,\r\n            isLeap = lunar.isLeap;\r\n\r\n        return addFstv(sYear, sMonth, sDay, weekDay, lunarYear, lunarMonth, lunarDay, isLeap);\r\n    }\r\n\r\n    this.lunar2solar = function (date, isLeapMonth) {\r\n        var lunarYear = date.getFullYear(),\r\n            lunarMonth = date.getMonth() + 1,\r\n            lunarDay = date.getDate(),\r\n            solar = new Solar(date, isLeapMonth),\r\n            sYear = solar.year,\r\n            sMonth = solar.month,\r\n            sDay = solar.day,\r\n            weekDay = nStr1[new Date(sYear, sMonth, sDay).getDay()],\r\n            isLeap = solar.isLeap,\r\n            cYear, cMonth, cDay, that = {};\r\n\r\n        return addFstv(sYear, sMonth, sDay, weekDay, lunarYear, lunarMonth, lunarDay, isLeap);\r\n    }\r\n\r\n}\r\nfunction addFstv(sYear, sMonth, sDay, weekDay, lunarYear, lunarMonth, lunarDay, isLeap) {\r\n  var cYear, cMonth, cDay, that = {};\r\n    ////////年柱 1900年立春后为庚子年(60进制36)\r\n    if (sMonth < 2) {\r\n        cYear = cyclical(sYear - 1900 + 36 - 1);\r\n    } else {\r\n        cYear = cyclical(sYear - 1900 + 36);\r\n    }\r\n    var term2 = sTerm(sYear, 2); //立春日期\r\n\r\n    ////////月柱 1900年1月小寒以前为 丙子月(60进制12)\r\n    var firstNode = sTerm(sYear, sMonth * 2) //返回当月「节」为几日开始\r\n    cMonth = cyclical((sYear - 1900) * 12 + sMonth + 12);\r\n\r\n    //依节气调整二月分的年柱, 以立春为界\r\n    if (sMonth == 1 && sDay >= term2) cYear = cyclical(sYear - 1900 + 36);\r\n    //依节气月柱, 以「节」为界\r\n    if (sDay >= firstNode) cMonth = cyclical((sYear - 1900) * 12 + sMonth + 13);\r\n    //当月一日与 1900/1/1 相差天数\r\n    //1900/1/1与 1970/1/1 相差25567日, 1900/1/1 日柱为甲戌日(60进制10)\r\n    var dayCyclical = Date.UTC(sYear, sMonth, 1, 0, 0, 0, 0) / 86400000 + 25567 + 10;\r\n    //日柱\r\n    cDay = cyclical(dayCyclical + sDay - 1);\r\n\r\n    //sYear,sMonth,sDay,weekDay,\r\n    //lYear,lMonth,lDay,isLeap,\r\n    //cYear,cMonth,cDay\r\n    that = new calElement(sYear, sMonth + 1, sDay, weekDay, lunarYear, lunarMonth, lunarDay, isLeap, cYear, cMonth, cDay);\r\n\r\n    // 节气\r\n    var tmp1 = sTerm(sYear, sMonth * 2) - 1;\r\n    var tmp2 = sTerm(sYear, sMonth * 2 + 1) - 1;\r\n    if (tmp1 == (sDay - 1)) {\r\n        that.solarTerms = solarTerm[sMonth * 2];\r\n    }\r\n    if (tmp2 == (sDay - 1)) {\r\n        that.solarTerms = solarTerm[sMonth * 2 + 1];\r\n    }\r\n\r\n    //公历节日\r\n    for (var i = 0, item; item = sFtv[i]; i++) {\r\n        if (item.match(/^(\\d{2})(\\d{2})([\\s\\*])(.+)$/)) {\r\n            if (Number(RegExp.$1) == (sMonth + 1)) {\r\n                if (Number(RegExp.$2) == sDay) {\r\n                    that.solarFestival += RegExp.$4 + ' ';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //月周节日\r\n    for (i = 0, item; item = wFtv[i]; i++) {\r\n        if (item.match(/^(\\d{2})(\\d)(\\d)([\\s\\*])(.+)$/)) {\r\n            if (Number(RegExp.$1) == (sMonth + 1)) {\r\n                tmp1 = Number(RegExp.$2);\r\n                tmp2 = Number(RegExp.$3);\r\n                if (tmp1 < 5) {\r\n                    var wFtvDate = (tmp2 == 0 ? 7 : 0) + (tmp1 - 1) * 7 + tmp2;\r\n                    if (wFtvDate == sDay) {\r\n                        that.solarFestival += RegExp.$5 + ' ';\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // 农历节日\r\n    for (i = 0, item; item = lFtv[i]; i++) {\r\n        if (item.match(/^(\\d{2})(.{2})([\\s\\*])(.+)$/)) {\r\n            tmp1 = Number(RegExp.$1);\r\n            tmp2 = Number(RegExp.$2);\r\n            var lMonLen = monthDays(lunarYear, lunarMonth);\r\n            // 月份是12月，且为最后一天，则设置为春节\r\n            if ((tmp1 == lunarMonth && tmp2 == lunarDay) || (tmp2 == '00' && lunarMonth == 12 && lMonLen == lunarDay)) {\r\n                that.lunarFestival += RegExp.$4 + ' ';\r\n                break;\r\n            }\r\n        }\r\n    }\r\n  // 国假调休\r\n  that.workRestDay = ChinaWorkRest[that.sYear.toString() + (that.sMonth < 10 ? '0' + that.sMonth : that.sMonth) + (that.sDay < 10 ? '0' + that.sDay : that.sDay)]\r\n  // console.log(that)\r\n  return that;\r\n}\r\n\r\n  /*\r\n   * example:\r\n   * var cc  =new CalendarConverter;\r\n   *\r\n   * cc.lunar2solar(new Date(2011, 0, 3)); ---> 2010,11,29\r\n   * cc.solar2lunar(new Date(2010, 10, 29)); ----> 2011, 1, 3\r\n   *\r\n   * 农历转公历时，如果那一月是那一年的闰月，则需额外传一个参数，才能得到正确的公历日期\r\n   * cc.solar2lunar(new Date(2012, 4, 27)); ---> 2012年4月初7, 其中 isLeap为true，表示为闰四月\r\n   * cc.lunar2solar(new Date(2012, 3, 7)) ---> 得到错误时间：2012, 4, 27\r\n   * cc.lunar2solar(new Date(2012, 3, 7), true) --> 正确: 2012, 5, 27\r\n   *\r\n   *result:\r\n   *  {\r\n   *    cDay: \"戊戌\"\r\n        , cMonth: \"丁未\"\r\n        , cYear: \"壬辰\"\r\n        , isLeap: false             // 该月是否为闰月\r\n        , lDay: 18\r\n        , lMonth: 6\r\n        , lYear: 2012\r\n        , lunarDay: \"十八\"\r\n        , lunarFestival: \"\"\r\n        , lunarMonth: \"六\"\r\n        , lunarYear: \"龙\"\r\n        , sDay: 5\r\n        , sMonth: 8\r\n        , sYear: 2012\r\n        , solarFestival: \"\"         // 节日\r\n        , solarTerms: \"\"            // 节气\r\n        , week: \"日\"                // 周几\r\n      }\r\n   *\r\n   */\r\n\r\nmodule.exports = {\r\n  CalendarConverter: CalendarConverter\r\n}"]}